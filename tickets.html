<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <link rel="stylesheet" type="text/css" href="ticket_style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="app.js"></script>

    <!-- SPLITTING -->
    <script type="text/javascript" src="https://unpkg.com/splitting@1.0.6/dist/splitting.min.js"></script>

    <!-- GSAP -->
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/MotionPathPlugin.min.js"></script>
    <script src="jquery-resizeEnd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/Draggable.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js" charset="utf-8"></script>
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>


    <title>News tickets</title>

  </head>
  <body>

<div class="page">


    <!-- start of ticket -->
    <div id="ticket" class="ticket-container" style="background-image: url('assets/ticket.svg');">

      <div class="ticket-content-wrapper">
        <div class="ticket-col left"></div>
        <div class="ticket-text-wrapper">
          <h4 class="ticket-title">NEW PROPS IN CATALOGUE</h4>
          <h6 class="ticket-category">&#x2192; CATALOGUE &#x2190;</h6>
          <div class="ticket-date">
            <div class="info">
                <h6>NEWS</h6>
            </div>
            <div class="info">
                <h6>18</h6>
            </div>
            <div class="info">
                <h6>OCT</h6>
            </div>
          </div>
        </div>
        <div class="ticket-col right"></div>
      </div>
    </div>
    <!-- end of ticket -->


    <button type="button" name="button" onclick="start_timeline();">
      RESTART ANIMATION
    </button>

</div>

  <script type="text/javascript">
    var ticket = '#ticket';
    var ticket_rect = document.getElementById('ticket').getBoundingClientRect();
    var dur = 1;
    var tl = gsap.timeline({
      paused:true,
      onComplete: enable_drag()
    });


    tl.set(ticket, {x:ticket_rect.width/2})
    tl.from(ticket, {duration:2, y:-ticket_rect.width, rotate:90, ease:"expo.out"});


    function start_timeline(){
      tl.restart();
    }







    function enable_drag(){
      gsap.config({trialWarn: false});
      Draggable.create(".ticket-container", {
          type:"x,y",
          edgeResistance:0.65,
          bounds:".page",
          inertia:true,
          onClick:function() {
        		console.log("clicked");
        	},
        	onDragEnd:function() {
        		console.log("drag ended");
        	}
      });

      console.log('dragging [available]')
    }


  </script>
  </body>
</html>
